# 通信基本原理

## 通信必要条件

- 主机之间需要有传输介质
- 主机上必须有网卡设备

## 网络通讯方式

- 路由器
- 交换机
- 主机

## 网络OSI七层模型

- 应用层：用户与网络的接口
- 表示层：数据加密、转换、压缩
- 会话层：控制网络连接建立与终止
- 传输层：控制数据传输可靠性
- 网络层：确定目标网络
- 数据链路层：确定目标主机
- 物理层：各种物理设备和标准

## 数据封装与解封装

> 完整数据结构：目标MAC+源MAC+目标IP+源IP+目标端口+源端口+数据data

- 应用层：进程应用产生数据 data
- 传输层：TCP/UDP协议根据应用层端口，增加 目标端口、源端口
- 网络层：IP协议根据目标IP地址，增加 目标IP、源IP
- 数据链路层：根据目标MAC地址，增加 目标MAC、源MAC
- 物理层：网卡将数据转换为电信号，通过网线发送

## TCP三次握手与四次挥手

- TCP处于传输层，基于端口，面向连接
- 主机之间要想通讯需要先建立双向数据通道
- TCP的握手和挥手本质上都是四次
